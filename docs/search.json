[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jose Garcia",
    "section": "",
    "text": "Welcome to my site!\nMy name is Jose Garcia, a 5th year student studying Statistics at California Polytechnic State University, San Luis Obispo. I am from San Jose, CA and some of my hobbies include: hiking, playing and watching sports, and coding.\nIf you have any questions, do not hesitate to reach out. Thank you!\nClick the links for more info about me, or, check out some of my projects above."
  },
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "More to come soon!\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Posts",
    "section": "",
    "text": "Lab 2\n\n\nAdvanced Data Visualization\n\n\n\n\n\n\n\n\nJose Garcia\n\n\n\n\n\n\n\n\n\n\n\n\nStatic Dashboard\n\n\n\n\n\ntest\n\n\n\n\n\nOct 24, 2022\n\n\nJose Garcia\n\n\n\n\n\n\n\n\n\n\n\n\nDynamic Dashboard\n\n\n\n\n\ntest\n\n\n\n\n\nOct 24, 2022\n\n\nJose Garcia\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/third-post/index.html",
    "href": "posts/third-post/index.html",
    "title": "Lab 2",
    "section": "",
    "text": "Create a Quarto file for ALL Lab 2 (no separate files for Parts 1 and 2).\n\nMake sure your final file is carefully formatted, so that each analysis is clear and concise.\nBe sure your knitted .html file shows all your source code, including any function definitions.\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(wesanderson)\nlibrary(leaflet)\nlibrary(rnaturalearth)\nlibrary(plotly)\n\n\nAttaching package: 'plotly'\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following object is masked from 'package:graphics':\n\n    layout"
  },
  {
    "objectID": "posts/third-post/index.html#dissecting-a-bad-visualization",
    "href": "posts/third-post/index.html#dissecting-a-bad-visualization",
    "title": "Lab 2",
    "section": "Dissecting a Bad Visualization",
    "text": "Dissecting a Bad Visualization\nBelow is an example of a less-than-ideal visualization from the collection linked above. It comes to us from data provided for the Wellcome Global Monitor 2018 report by the Gallup World Poll:\n\n\nWhile there are certainly issues with this image, do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nThe graph is showing us the percent of people who believe vaccines are safe by country and global region. The authors could be trying to convey regional differences in vaccine trust, outliers, and a central theme that higher-income countries (such as the US) do not always have high trust in vaccines.\n\nList the variables that appear to be displayed in this visualization. Hint: Variables refer to columns in the data.\n\nCountry, region, % of trust, median vaccine trust by region.\n\nNow that you’re versed in the grammar of graphics (e.g., ggplot), list the aesthetics used and which variables are mapped to each.\n\n\nx = % who believe in vaccines\ny = country\ncolor = region\n\n\nWhat type of graph would you call this? Meaning, what geom would you use to produce this plot?\n\nBecause each individual observation is a point, I would call this a geom_point() plot.\n\nProvide at least four problems or changes that would improve this graph. Please format your changes as bullet points!\n\n\nDifferent colors, make them more fun!\nUse faceting to remove stacking\nIncrease font size\nRemove legend (according to Will Chase)"
  },
  {
    "objectID": "posts/third-post/index.html#improving-the-bad-visualization",
    "href": "posts/third-post/index.html#improving-the-bad-visualization",
    "title": "Lab 2",
    "section": "Improving the Bad Visualization",
    "text": "Improving the Bad Visualization\nThe data for the Wellcome Global Monitor 2018 report can be downloaded at the following site: https://wellcome.ac.uk/reports/wellcome-global-monitor/2018\n\nThere are two worksheets in the downloaded dataset file. You may need to read them in separately, but you may also just use one if it suffices.\n\ndict &lt;- readxl::read_excel(\"/Users/josegarcia/Desktop/STAT_541/wgm2018.xlsx\", sheet = \"Data dictionary\")\n\ndata &lt;- readxl::read_excel(\"/Users/josegarcia/Desktop/STAT_541/wgm2018.xlsx\", sheet = \"Full dataset\") |&gt;\n  rename(code = WP5)\n\n\n# country codes\ncountry_codes_list &lt;- dict$`Variable Type & Codes*`[1] |&gt;\n  str_split(\", \", simplify = TRUE) |&gt;\n  as_tibble() |&gt;\n  pivot_longer(cols = (1:144), names_to = NULL, values_to = \"col\") |&gt;\n  separate_wider_delim(\"col\", delim = \"=\", names = c(\"code\", \"country\")) |&gt;\n  mutate(\n  code = as.integer(str_trim(code)),\n  country = str_trim(country) |&gt; str_remove(\",$\")\n)\n\nWarning: The `x` argument of `as_tibble.matrix()` must have unique column names if\n`.name_repair` is omitted as of tibble 2.0.0.\nℹ Using compatibility `.name_repair`.\n\n# region codes\nregion_codes_list &lt;- dict$`Variable Type & Codes*`[57] |&gt;\n  str_split(\",\", simplify = TRUE) |&gt;\n  as_tibble() |&gt;\n  pivot_longer(cols = everything(), names_to = NULL, values_to = \"col\") |&gt;\n  mutate(col = str_trim(col)) |&gt; # trim white space\n  filter(col != \"\") |&gt; # filter out blanks\n  separate_wider_delim(\"col\", delim = \"=\", names = c(\"Regions_Report\", \"region\")) |&gt;\n  mutate(\n    region_code = as.integer(str_trim(Regions_Report)),\n    region = str_trim(region),\n    Regions_Report = as.integer(Regions_Report)\n  )\n\n# join data\nfull_data &lt;- data |&gt;\n  left_join(country_codes_list, by = \"code\") |&gt;\n  left_join(region_codes_list, by = \"Regions_Report\")\n\n\nsafe_vax_pct &lt;- full_data |&gt;\n  group_by(country) |&gt;\n  summarise(\n    total_agree = sum(Q25 %in% c(1, 2), na.rm = TRUE),\n    total = n(),\n    percent_safe = total_agree / total * 100,\n    .groups = \"drop\"\n  ) |&gt;\n  left_join(full_data |&gt; select(country, Regions_Report) |&gt; distinct(), by = \"country\") |&gt;\n  mutate(region = case_when( # build regions\n    Regions_Report %in% c(10, 11, 12)      ~ \"Asia\",                      \n    Regions_Report %in% c(3, 13)           ~ \"Middle East and North Africa\",  \n    Regions_Report %in% c(1, 2, 4, 5)      ~ \"Sub-Saharan Africa\",        \n    Regions_Report %in% c(6, 7, 8)         ~ \"Americas\",                  \n    Regions_Report %in% c(14, 15, 16, 17)  ~ \"Europe\",                    \n    Regions_Report == 9                   ~ \"Former Soviet Union\"\n  ))\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\nsafe_vax_pct |&gt;\n  filter(!is.na(region)) |&gt;\n  group_by(region) |&gt;\n  mutate(\n    country = fct_reorder(country, percent_safe),  \n    region_median = median(percent_safe, na.rm = TRUE)\n  ) |&gt;\n  ungroup() |&gt;\n  ggplot(aes(x = percent_safe, y = country)) +\n  geom_vline(aes(xintercept = region_median), linetype = \"dashed\", color = \"black\") +\n  geom_point(aes(color = region), size = 3) +\n  facet_wrap(~ region, scales = \"free_y\") +\n  scale_color_manual(values = wes_palette(\"Zissou1\", n = 6, type = \"continuous\")) +\n  labs(\n    title = \"% of people who believe vaccines are safe, by country and global region\",\n    subtitle = \"Dark vertical lines represent region medians\",\n    x = \"% who believe vaccines are safe\",\n    y = NULL,\n    caption = \"Source: Wellcome Global Monitor, Gallup World Poll 2018\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 15),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    legend.position = \"none\",\n    axis.text.y = element_text(size = 5)\n  )"
  },
  {
    "objectID": "posts/third-post/index.html#second-data-visualization-improvement",
    "href": "posts/third-post/index.html#second-data-visualization-improvement",
    "title": "Lab 2",
    "section": "Second Data Visualization Improvement",
    "text": "Second Data Visualization Improvement\nFor this second plot, you must select a plot that uses maps so you can demonstrate your proficiency with the leaflet package!\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nI decided to recreate and improve Chart 2.3: Map of perceived knowledge about science by country which is on page 27 of the report. The map shows the perceived knowledge about science of people in different countries. The authors may be trying to convey that peoples confidence in their science knowledge varies across countries. Certain countries may have lower confidence due to a limited access to educational resources, however it is important to note that plots like these can be damaging as viewers might interpret lower metrics as a reflection of a country’s intelligence/worth (when that is simply not true).\n\nList the variables that appear to be displayed in this visualization.\n\n\nCountry\nPercent who answered “a lot” or “some”\nSurveyed status?\n\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\n\nfill for the percents\ngeometry for country\ncolor for survey status\n\n\nWhat type of graph would you call this?\n\nChoropleth map\n\nList all of the problems or things you would improve about this graph.\n\n\nuse different colors for better contrast\nhover over to see percents\ndifferentiate NA’s more clearly\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\nworld &lt;- ne_countries(type = \"countries\", scale = \"small\")\n\nscience_pct &lt;- full_data |&gt;\n  mutate(country = if_else(country == \"United States\", \"United States of America\", country)) |&gt;\n  group_by(country) |&gt;\n  summarise(\n    total_strong = sum(Q1 %in% c(1, 2), na.rm = TRUE),\n    total = n(),\n    percent_strong = total_strong / total * 100\n  )\n\nmap_data &lt;- world |&gt;\n  left_join(science_pct, by = c(\"name\" = \"country\"))\n\nqpal &lt;- colorNumeric(\"YlGnBu\", domain = map_data$percent_strong, na.color = \"white\")\n\nleaflet(map_data) |&gt;\n  addTiles() |&gt;\n  addPolygons(stroke = FALSE, smoothFactor = 0.2, fillOpacity = 1,\n    color = ~qpal(percent_strong),\n    label = ~paste0(name, \": \", round(percent_strong, 1), \"%\")) |&gt;\n  addLegend(pal = qpal, values = map_data$percent_strong, title = \"Knowledge Level (%)\", position = \"bottomright\")|&gt;\n  addControl(\n    html = \"Map of perceived knowledge about science by country\",\n    position = \"topright\"\n  ) |&gt;\n  setView(lng = 0, lat = 0, zoom = 2)"
  },
  {
    "objectID": "posts/third-post/index.html#third-data-visualization-improvement",
    "href": "posts/third-post/index.html#third-data-visualization-improvement",
    "title": "Lab 2",
    "section": "Third Data Visualization Improvement",
    "text": "Third Data Visualization Improvement\nFor this third plot, you must use one of the other ggplot2 extension packages mentioned this week (e.g., gganimate, plotly, patchwork, cowplot).\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nFor the second visualization, I chose Chart 3.1: Trust in Scientists Index showing levels of trust by region which is on page 53. The chart shows us the levels in which people trust scientists from different regions. The authors may be trying to display where certain regions may trust scientists less in order to identify where resources/policy changes could be needed.\n\nList the variables that appear to be displayed in this visualization.\n\n\nRegion\nTrust level\nPercent for each level within each region\n\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\n\ny = region\nx = percent\nfill = trust level\n\n\nWhat type of graph would you call this?\n\nThis is a stacked bar chart.\n\nList all of the problems or things you would improve about this graph.\n\n\ncolors are not intuitive\nno clear sorting\nfonts are too small\ntoo crowed\ncould use interactive elements\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\ntrust_scientists &lt;- full_data |&gt; # calculate percents by countries\n  filter(WGM_Indexr %in% c(1, 2, 3, 99), !is.na(region)) |&gt;\n  mutate(\n    trust_level = case_when( \n      WGM_Indexr == 1 ~ \"Low\",\n      WGM_Indexr == 2 ~ \"Medium\",\n      WGM_Indexr == 3 ~ \"High\",\n      WGM_Indexr == 99 ~ \"Don't know / Refused\"\n    )\n  ) |&gt;\n  group_by(region, trust_level) |&gt;\n  summarise(n = n(), .groups = \"drop\") |&gt;\n  group_by(region) |&gt;\n  mutate(percent = n / sum(n) * 100)\n\ntrust_global &lt;- full_data |&gt; # calculate global percentage\n  mutate(\n    trust_level = case_when(\n      WGM_Indexr == 1 ~ \"Low\",\n      WGM_Indexr == 2 ~ \"Medium\",\n      WGM_Indexr == 3 ~ \"High\",\n      WGM_Indexr == 99 ~ \"Don't know / Refused\"\n    )\n  ) |&gt;\n  group_by(trust_level) |&gt;\n  summarise(\n    total = n(),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    percent = total / sum(total) * 100,\n    region = \"World\"\n  )\n\ntrust_scientists &lt;- bind_rows(trust_scientists, trust_global) # bind\n\n\ntrust_scientists &lt;- trust_scientists |&gt;\n  mutate( # create factors\n    trust_level = factor(trust_level, levels = c(\"High\", \"Medium\", \"Low\", \"Don't know / Refused\"))\n  )\n\ncustom_colors &lt;- c(\n  \"Don't know / Refused\" = \"#f4a261\",  \n  \"Low\" = \"#c6dbef\",\n  \"Medium\" = \"#6baed6\",\n  \"High\" = \"#4292c6\"\n)\n\np &lt;- ggplot(trust_scientists, aes(x = percent, y = region, fill = trust_level, text = paste0(\n    \"Region: \", region, \"&lt;br&gt;\",\n    \"Trust Level: \", trust_level, \"&lt;br&gt;\",\n    \"Percent: \", round(percent), \"%\"\n  )\n  )) +\n  geom_col(width = 0.7, position = \"stack\") +\n  scale_fill_manual(values = custom_colors) +\n  labs(\n    title = \"Trust in Scientists Index showing levels of trust by region\",\n    x = \"\",\n    y = \"\",\n    fill = \"Trust Level\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    axis.text.x = element_blank(),\n    axis.text.y = element_text(size = 12)\n  )\n\nggplotly(p, tooltip = \"text\") |&gt;\n  layout(\n    legend = list( # could not figure out how to switch order in legend\n      orientation = \"h\",\n      x = 0.5,\n      y = 1.10,  \n      xanchor = \"center\",\n      font = list(size = 13)\n    ),\n    margin = list(t = 100)  \n  )"
  }
]